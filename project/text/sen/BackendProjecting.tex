Для обміну інформацією між користувацьким додатком та back-end частиною використовується протокол передачі гіпертекстових даних HTTP. Передачу даних забезпечує стек транспортних протоколів TCP/IP.
Одним з способів побудови мережевих HTTP-додатків є використання  асинхронного подієвого JavaScript–оточення Node. Для кожного з’єднання викликається функція зворотнього виклику, проте коли з’єднань немає Node засинає.

У Node не має функцій, що працюють напряму з I/O, тому процес не блокується ніколи. Як результат, на Node легко розробляти масштабовані системи \cite{zeiss2015node}.
Node широко використовує подієву модель, він приймає цикл подій за основу оточення, замість того, щоб використовувати його в якості бібліотеки. В інших системах відбувається блокування виклику для запуску циклу подій.

\subsubsection{Специфікація вимог до програмного забезпечення}

Одним із завдань, поставлених для реалізації мети є розроблення вимог щодо можливостей серверної частини па публічного API зокрема.

Після проведення аналізу предметної області та технологій було сформульовано наступні вимоги:

\begin{enumerate}
    \item Можливість використання API не залежить від клієнтської платформи.
    \item Розділення прав доступу.
    \item Створення нових користувачів у системі адміністратором.
    \item Авторизація користувачів у системі.
    \item Редагування даних користувачами системи у відповідності до їх прав доступу.
    \item Редагування даних адміністраторами системи у відповідності до їх прав доступу.
    \item Інтеграція з Google сервісами, зокрема Google calendar та Google Sheets.
    \item Можливість експорту та імпорту даних між системою та сервісами Google або специфікованими форматами даних.
    \item Забезпечення цілісності даних.
\end{enumerate}


\subsubsection{Проміжні обробники} \label{subs:middleware}

Express - це веб-фреймворк маршрутизації і тимчасової роботи з мінімальною власною функціональністю: додаток Express, по суті, являє собою серію викликів функцій тимчасової роботи.

Функції тимчасової роботи (middleware) - це функції, які мають доступ до об'єкта запиту (req), об'єкту відповіді (res) і до наступній функції тимчасової роботи в циклі "запит-відповідь" додатку. Наступна функція тимчасової роботи, як правило, позначається змінної next.

Функції тимчасової роботи можуть виконувати такі завдання:

\begin{enumerate}
	\item Виконання будь-якого коду.
	\item Внесення змін до об'єкти запитів і відповідей.
	\item Завершення циклу "запит-відповідь".
	\item Виклик наступної функції тимчасової роботи з стека.
	\item Якщо поточна функція тимчасової роботи завершує цикл "запит-відповідь", вона повинна викликати next () для передачі управління наступної функції тимчасової роботи. В іншому випадку запит зависне.
\end{enumerate}	

Додаток Express може використовувати такі типи проміжних оброблювачів:

\begin{enumerate}
	\item Проміжний обробник рівня додатки
	\item Проміжний обробник рівня маршрутизатора
	\item Проміжний обробник для обробки помилок
	\item Вбудовані проміжні обробники
	\item Проміжні обробники сторонніх постачальників ПО
\end{enumerate}	


\subsubsection{Маршрути}

\addCodeAsImg{\lstinputlisting[numbers=left]{code/AppMethod.tex}}{Структура визначення маршрутів}{fig:Route}

В процесі роботи використовується протокол прикладного рівня HTTP. Обмін повідомленнями йде за схемою «запит-відповідь». Для ідентифікації ресурсів HTTP використовує URL. 

В додатку обробляються основні  HTTP методи для взаємодії об’єктами (рис.~\ref{fig:ApiAccess}). 

Протокол HTTP не зберігає свого стану між парами «запит-відповідь». Компоненти, що використовують HTTP, можуть самостійно здійснювати збереження інформації про стан, пов'язаний з останніми запитами та відповідями. 

Одним з розповсюджених способів реалізації цього можна назвати так звані cookies — невеликі записи, що зберігаються браузером. Зазвичай, вони встановлюються при виконанні користувачем певних дій та надсилаються серверу разом з наступними запитами. 

На рис.~\ref{fig:AppSignUp} зображено процес створення адміністратором нового користувача системи. Після отримання зазначеного POST запиту, сервер перевірить, чи має користувач відповідні права (блок Auth рис.~\ref{fig:CreateOperation}), створить об’єкт користувача з відповідними правами та збереже його в базі даних.

\addCodeAsImg{\input{uml/AppSignUp}}{Процес створення адміністратором нового користувача системи}{fig:AppSignUp}

Створений користувач може входити до системи (рис.~\ref{fig:AppSignIn}) для виконання певних задач з користування системою.

\addCodeAsImg{\input{uml/AppSignIn}}{Вхід користувача до системи}{fig:AppSignIn}

Можна зазначити, що адміністратор теж є користувачем, проте з особливими правами (диференціація на рис.~\ref{fig:Route}).

